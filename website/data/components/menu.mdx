# Menu

An accessible dropdown and context menu that is used to display a list of actions or options that a user can choose.

## Features

- Support for RTL-aware submenus
- Support for items, labels, groups of items
- Focus is fully managed using `aria-activedescendant` pattern
- Typeahead to allow focusing items by typing text
- Keyboard navigation support including arrow keys, home/end, page up/down

## Installation

To use the editable machine in your project, install the respective package

<InstallSnippet package="@ui-machines/menu" />

```jsx
import * as Popover from "@ui-machines/menu"
```

Next, you'll need to install the binding for your framework

<CodeSnippet id="menu/installation.mdx" />

## Usage

<CodeSnippet id="menu/basic-usage.mdx" />

## Programmatic control of menu

To access the internal state of the Menu, use a function as children (commonly known as a render prop). You'll get
access to the internal state `isOpen` , `close` and `open` methods

<CodeSnippet id="menu/programmatic-control.mdx" />

## Grouping menu items

When the number of menuitems get much, it might be useful to group related menuitems together. To achieve
the`groupProps` provided by the menu machine's connect function.

<CodeSnippet id="menu/grouping-items.mdx" />

## Nesting menus

To create submenus or nested menus:

- Destructure the `service` returned from the `useMachine` hook.
- Use the exposed `setParent` and `setChild` functions provided by the menu's connect function to assign the parent and
  child menus respectively.
- Merge properties from `triggerProps` and `getItemProps`.

<CodeSnippet id="menu/nested-menus.mdx" />

## Creating context menus

To show the menu when a trigger element is right-clicked, use the `contextTriggerProps` provided by the menu's connect
function.

Context menu's are also opened during a long-press of roughly `700ms` when the pointer is pen or touch.

<CodeSnippet id="menu/context-menus.mdx" />

> Ensure you don't use both `contextTriggerProps` and `triggerProps`. Menus should have only one trigger type, that is,
> you should using either a dropdown menu or a context menu. Not both
