# Pin Input

The PinInput is optimized for entering a sequence of digits.

<Showcase id="PinInput" />

**Features**

- Automatically focuses the next field on typing and focuses the previous field
  on deletion.
- Supports numeric and alphanumeric values.
- Support for masking value (for sensitive data).
- Support for copy/paste to autofill all fields.
- OTP-code pasting from clipboard.

## Installation

To use the pin input machine in your project, install the respective package

<InstallSnippet package="@ui-machines/pin-input" />

```jsx
import * as pinInput from "@ui-machines/pin-input"
```

Then you'll need to install the binding for your framework of choice

<CodeSnippet id="pin-input/installation.mdx" />

## Usage

The input fields allow one digit or letter at a time. When the digit or letter
is entered, focus transfers to the next input in the sequence, until every input
is filled in.

The pin inputs connect function exposes `containerProps` and `getInputProps` you
can use to compose the UI.

<CodeSnippet id="pin-input/usage.mdx" />

## Setting a default value

To set the initial value of the pin input, pass the `value` context property as
shown below.

```jsx
const [state, send] = useMachine(
  PinInput.machine.withContext({
    value: ["1", "2", ""],
  }),
)
```

## Changing the placeholder

To customize the default pin input placeholder (â—‹) for each input, pass the
`placeholder` prop and set it to your desired value.

```jsx
const [state, send] = useMachine(
  PinInput.machine.withContext({
    placeholder: "*",
  }),
)
```

## Allowing alphanumeric values

By default, the pin input accepts only number values but you can choose between
`numeric`, `alphanumeric` and `alphabetic` values. To change the input mode,
pass the `type` context property and set its value to `alphanumeric`.

```jsx
const [state, send] = useMachine(
  PinInput.machine.withContext({
    type: "alphanumeric",
  }),
)
```

## Using OTP mode

To trigger smartphone OTC auto-suggestion, it is recommended to apply
`autocomplete="one-time-code"` to the input field. The pin-input machine
provides support for this. To enable this, set the `otp` context property to
`true`.

```jsx
const [state, send] = useMachine(
  PinInput.machine.withContext({
    otp: true,
  }),
)
```

## Securing the text input

When collecting private or sensitive information using the pin input, you might
need to mask the value entered, similar to `<input type="password"/>`. Pass the
`mask` context property and set it to `true`.

```jsx
const [state, send] = useMachine(
  PinInput.machine.withContext({
    mask: true,
  }),
)
```

## Listening for changes

- When the pin-input's value is changed, the `onChange` listener is invoked with
  the current value
- When all fields have been completed (by typing or pasting), the `onComplete`
  callback is invoked with the final value of the input.

```jsx
const [state, send] = useMachine(
  PinInput.machine.withContext({
    onChange(values) {
      console.log("value changed to:", values)
    },
    onComplete(values) {
      console.log("completed value:", values)
    },
  }),
)
```

## Styling guide

**Container**

```css
[data-part="container"] {
  /* base styles for the container */
}

[data-part="container"][data-complete] {
  /* styles for when all value has been filled */
}
```

**Input**

```css
[data-part="input"] {
  /* base styles for the input  */
}

[data-part="input"]:focus {
  /* styles for when the input is focused */
}

[data-part="input"][data-invalid] {
  /* styles for when the input is invalid */
}

[data-part="input"][data-disabled] {
  /* styles for when the input is disabled */
}

[data-part="input"][data-complete] {
  /* styles for when all value has been filled */
}
```
