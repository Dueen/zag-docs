# Slider

The Slider is used to allow users to make selections from a range of values.
Think of it as a custom `<input type='range'/>` with the ability to achieve
custom styling and accessibility.

<Showcase id="Slider" />

**Features**

- Supports centered origin (slider starting at center, instead of start
  position).
- Fully managed keyboard navigation.
- Supports touch or click on track to update value.
- Supports Right-to-Left directionality.
- Support for horizontal and vertical orientations.
- Prevents text selection while dragging.

## Installation

To use the editable machine in your project, install the respective package

```jsx
import * as slider from "@ui-machines/slider"
```

Then you'll need to install the binding for your framework of choice

<CodeSnippet id="slider/installation.mdx" />

## Usage

The slider's connect function exposes the `labelProps`, `outputProps`,
`thumbProps`, `rangeProps` and `rootProps` you can compose the slider UI.

<CodeSnippet id="slider/usage.mdx" />

## Changing the orientation of the slider

By default, the slider is assumed to be horizontal. To change the orientation to
vertical, set the `orientation` property in the machine's context to `vertical`.

In this mode, the slider will use the arrow up and down keys to
increment/decrement its value.

> Don't forget to change the styles of the vertical slider by specifying its
> height

```jsx {3}
const [state, send] = useMachine(
  Slider.machine.withContext({
    orientation: "vertical",
  }),
)
```

## Specifying the minimum and maximum

By default, the minimum is `0` and the maximum is `100`. If that's not what you
want, you can easily specify different bounds by changing the values of the min
and/or max attributes.

For example, to ask the user for a value between `-10` and `10`, you can use:

```jsx {3-4}
const [state, send] = useMachine(
  Slider.machine.withContext({
    min: -10,
    max: 10,
  }),
)
```

## Setting the value's granularity

By default, the granularity, is `1`, meaning that the value is always an
integer. You can change the step attribute to control the granularity.

For example, If you need a value between `5` and `10`, accurate to two decimal
places, you should set the value of step to `0.01`:

```jsx {5}
const [state, send] = useMachine(
  Slider.machine.withContext({
    min: 5,
    max: 10,
    step: 0.01,
  }),
)
```

## Listening for changes

When the slider value changes, the `onChange` and `onChangeEnd` callbacks are
invoked. You can use this to setup custom behaviors in your app.

```jsx {3-8}
const [state, send] = useMachine(
  Slider.machine.withContext({
    onChange(value) {
      console.log("value is changing to:", value)
    },
    onChangeEnd(value) {
      console.log("value has changed to:", value)
    },
  }),
)
```

## Exposed API methods

The slider's `connect` function provides properties and methods you can use to
programmatically read and set the slider's value.

| Property          | Description                                                  |
| ----------------- | ------------------------------------------------------------ |
| `isFocused`       | Whether the slider is focused                                |
| `isDragging`      | Whether the slider is being scrubbed/dragged                 |
| `value`           | The current value of the slider                              |
| `percent`         | The slider's value represented as a percentage               |
| `setValue`        | Function to set the value of the slider                      |
| `getPercentValue` | Function that returns the value associated with a percentage |
| `increment`       | Function to increment the value                              |
| `decrement`       | Function to decrement the value                              |

<CodeSnippet id="slider/programmatic-control.mdx" />

## Changing the start position of the slider

By default, the slider's "zero position" is usually at the start position (left
in LTR and right in RTL). In scenarios where the value represents an offset (or
relative value), it might be useful to change the "zero position" to center.

To do this, pass the `origin` context property to `center`.

```jsx {3}
const [state, send] = useMachine(
  Slider.machine.withContext({
    origin: "center",
  }),
)
```

## Usage within forms

To use slider within forms, use the exposed `inputProps` from the `connect`
function and ensure you pass `name` value to the machine's context. It will
render a hidden input and ensure the value changes get propagated to the form
correctly.

<CodeSnippet id="slider/form-usage.mdx" />

## Using slider marks

In some cases you might need to define a series of mark along the slider track.
To achieve this, use the exposed `getMarkerProps` from the `connect` function
and position the slider marks relative to the track.

<CodeSnippet id="slider/using-marks.mdx" />

## Styling guide

**Slider Thumb**

```css
[data-part="thumb"] {
  /* base styles for the thumb */
}

[data-part="thumb"][data-disabled] {
  /* styles for disabled state */
}

[data-part="thumb"][data-focus] {
  /* styles for the focused state */
}

[data-part="thumb"][data-orientation="(horizontal|vertical)"] {
  /* styles for horizontal or vertical  */
}
```

**Slider Track**

```css
[data-part="track"] {
  /* base styles for the track */
}

[data-part="track"][data-disabled] {
  /* styles for disabled state */
}

[data-part="track"][data-focus] {
  /* styles for when the slider is focused */
}

[data-part="track"][data-orientation="(horizontal|vertical)"] {
  /* styles for slider orientation */
}
```

**Slider Marker**

```css
[data-part="marker"] {
  /* base styles for marker */
}

[data-part="marker"][data-state="(at|under|over)-value"] {
  /* styles for when the value exceeds the marker's value */
}
```
